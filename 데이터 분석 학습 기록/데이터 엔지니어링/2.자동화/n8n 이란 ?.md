## **글 쓴 이유**

 - 조만간 있을 자동화 툴을 사용한 데이터 분석 및 크롤링 학습에 앞서 먼저 n8n이 뭔지 , 어떻게 사용하고 왜 사용하는지 궁금하여 정리하고싶어져 작성함

## **n8n ?**

 - n8n은 노드에잇앤은 2019년도에 n8n GmbH에서 공개한 워크 플로우 자동화 툴

 - 개발자가 아니여도 사용할 수 있는 강력한 업무 자동화 툴

#### **왜 쓰는가 ?**

 - 노드 기반 시각화 : 복잡한 코딩 대신 , 각 서비스(gmail, slack , notion등)를 나타내는 노드를 선으로 연결해 흐름을 만들 수 있음

 - 페어 소스 모델 : Zapier 같은 서비스는 매달 구독료를 내야하지만 , n8n은 자신의 서버나 PC에 직접 설치하면 무료로 무제한 사용가능

( 클라우드 유료 버전도 있긴함 )

 - 강력한 확장성 : 400개 이상의 서비스가 기본 연결되어 있으며 , 만약 찾는 기능이 없다면 직접 JavaScript 코드를 한두 줄 넣어 기능을 확장 시킬 수 있음

#### **무엇을 자동화 하는가 ? (예시)**

 - 마케팅 부분 : 인스타그램에 새 게시물이 올라오면 , 내용을 요약해서 , Slack 이나 Gmail로 알림 보내줘 (할 수 있다.)

 - 고객 관리 : 구글 설문지에 응답이 오면 , 내용을 AI 에이전트(ChatGPT , 제미나이)로 분석해서 , 고객의 감정에 맞는 답변 메일 보내줘

 - 데이터 정리 : 특정시간(예를 들어 매일 9시)에 특정 웹사이트 정보를 크롤링해서 , 내가 사용하는 데이터베이스에 저장해줘

위와 같은 업무상 **직접 하기 귀찮고 오래걸리는 작업들을 자동화 시켜 업무상의 효율을 끌어 올릴 수 있음**

 (이전 회사에서도 업무 자동화 툴을 사용해서 금일 업무 등록 내역을 자동으로 팀장 , 연구소장 , 사장으로 보내는 업무하도록 세팅한게 기억억남)

## **n8n 워크 플로우 구조 (예시)**

 -기본적으로 간단하게 설명하자면 3~4개의 노드를 선으로 연결하면 끝남

 - 특정 시간에 웹사이트의 데이터를 노션 데이터베이스에 등록하는 작업을 하기 위한 예시를 아래에 작성하겠음

 1. Schedule Trigger 노드 : 특정 시간에 원하는 동작이 실행되도록 예약

 2. HTTP Request 노드 : 특정 웹사이트의 HTML 데이터를 가져옴 (웹크롤링하기 위한 사이트 등록)

 3. HTML 노드(또는 동작 Code) : 가져온 HTML에서 필요한 정보(제목 , 가격 , 댓글 , 내용등) 만을 추출하기 위해 사용하는 코드

 4. Notion 노드  : 추출하여 가공한 데이터를 노션 데이터베이스의 각 항목에 입력 

## **n8n에 크롤링 하기 위한 소스는 무조건 등록해야하는건가 ?**

 - 코드를 한 줄도 쓰지 않고도 웹 크롤링과 자동화 세팅이 가능함

 - n8n에 내장된 기본 노드를 사용해도 코드를 쓰지않고도 자동화 툴을 만들수 있음

 - 하지만 n8n 기본 노드만으로는 해결하기 어려운 복잡한 상황이 있을때 코드를 넣어 동작시키면 됨

    -> 동적 로딩 사이트 : 특정 버튼을 눌러야 내용이 보이거나 , 무한 스크롤을 내려야 데이터가 뜨는 사이트의 경우 단순히 HTML만 읽어서는 데이터를 가져 올 수 없음 , 이때는 파이썬(Selenium)이나 Puppeteer가 필요함!

    -> 복잡한 데이터 가공 : 수집한 텍스트에서 특정한 패턴만 아주 정교하게 추출해야하 하거나 , 복잡한 수학적 계산이 들어갈 때는 Code 노드에 파이썬이나 자바스크립트를 직접 작성하는게 좋음

## **n8n 동작에 이상이 생기면 예외처리가 되겠지 ?**

 - 당연하다. 자동화 툴이 중간에 멈추었을때 n8n에서는 Error Trigger 또는 Wait Node를 세팅하면 예외처리가 가능하다

 - Error Trigger : 자동화 동작에 이상이 생기면 예외처리 동작을 수행하도록 함

 - Wait Node : 연결 지연 등의 이유로 지연이 발생 할것같다고 판단될때 노드 사이에 쉬어가도록 세팅 

## **AI 에이전트 구축에 최적화된 n8n ?**

 - LangChain이라는 강력한 프레임 워크를 노드 형태로 완벽하게 내장함

 - LangChain ? AI LLM에 다양한 도구(인터넷 , DB , 계산기)를 연결시켜주는 역할을 하는 프레임 워크

 - 일반적으로 AI에게 특정 기능을 부여하려면 복잡한 코딩이 필요 , n8n은 기존에 만들어둔 워크플로우를 그대로 AI의 도구로 등록 가능

 - 하나의 AI모델을 사용하지 않고 다양한 AI 모델 사용

 - 백터 데이터베이스와 연동 가능 , AI가 내 문서를 학습한 것처럼 답변하게 만드는 RAG 기술을 코딩 없이 구현 가능

 - RAG(Retrieval-Augmented Generaion)? AI의 고질적인 문제 , 모르는데 아는척하면서 잘못 정보를 전달하는 경우 또는 최신 업데이트된 정보를 모르는 점이 있는데 , 이를 해결하기 위한 기술

## **마치며**

 **간단하게 n8n이 무엇인지 정리를 해보았는데 정리를 하며 실제로 한번 써보고 싶다는 생각이 들정도로 편리한 자동화 툴이라는 것을 알수 있었다.**

 **나중에 매일 특정 시간대의 웹사이트의 데이터를 추춣시키는 동작을 하도록 구현해보고싶고 해보도록 하겠다.**


[[2.자동화]]
